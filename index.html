<!DOCTYPE html>
<html>

<head>
    <title>Mapbox GL</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
    <link href="main.css" rel='stylesheet' />
</head>

<body>
    <div id='map'></div>
    <script>
        mapboxgl.accessToken =
            'pk.eyJ1IjoibWFhcnRlbmRlcmlqayIsImEiOiJja2dsem82OW8wa25iMnNtczBpMDl6cDQyIn0.QEoCXUqgkAV2DunXRyhzng';

        let map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [5.9866112, 51.1829362],
            zoom: 12
        });

        map.on('load', function () {
            // add source and layer for nebula wegvakken
            map.addSource('wegvakken', {
                'type': 'vector',
                'tiles': [
                    'http://localhost:5500/tiles/{z}/{x}/{y}.pbf'
                ],
                'minzoom': 0,
                'maxzoom': 14
            });

            map.addLayer({
                'id': 'wegvakken',
                'type': 'line',
                'source': 'wegvakken',
                'source-layer': 'wegvakken-1',
                'layout': {
                    // make layer visible by default
                    'visibility': 'visible'
                },
                'paint': {
                "line-width": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    12,
                    3,
                    22,
                    1
                ],
                "line-color": [
                    "interpolate",
                    ["linear"],
                    ["get", "FlowVehETM"],
                    0,
                    "hsl(134, 74%, 33%)",
                    18706,
                    "hsl(46, 89%, 54%)",
                    37412.58,
                    "hsl(0, 89%, 54%)"
                ]
            },
           
            });

        })
    </script>
</body>

</html>